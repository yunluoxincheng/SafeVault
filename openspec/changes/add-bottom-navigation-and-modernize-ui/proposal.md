# Proposal: 添加底部导航菜单和现代化界面设计

## Change ID
`add-bottom-navigation-and-modernize-ui`

## Summary
为 SafeVault 密码管理器添加底部导航菜单（包含密码库、生成器、设置三个选项卡），并对整体界面进行现代化改造，采用 Material Design 3 设计规范，提升用户体验和视觉一致性。

## Motivation
当前 SafeVault 应用的界面存在以下问题：
1. **导航不便**：用户需要通过顶部菜单才能访问密码生成器和设置功能，操作层级较深
2. **视觉风格陈旧**：界面采用基础的 Material Design 2 风格，缺乏现代感
3. **功能入口不明显**：密码生成器作为对话框存在，不是一个独立的页面，用户难以快速发现和使用
4. **导航结构单一**：当前只有一个导航图的起点（密码列表），缺乏清晰的模块化结构

通过添加底部导航菜单和现代化界面设计，可以实现：
- **快速访问**：三个核心功能（密码库、生成器、设置）通过底部导航一键切换
- **现代体验**：采用 Material Design 3 的动态配色、圆角卡片、改进的阴影等设计元素
- **清晰架构**：底部导航与三个顶级目的地（密码库、生成器、设置）形成清晰的导航层次
- **品牌一致性**：统一的设计语言提升应用的专业形象

## Proposed Changes

### 1. 底部导航菜单实现
- 在 `MainActivity` 中添加 `BottomNavigationView` 组件
- 创建三个顶级目的地：
  - **密码库**（`passwordListFragment`）：现有的密码列表功能
  - **生成器**（`generatorFragment`）：新增独立的密码生成器页面
  - **设置**（`settingsFragment`）：现有的设置页面
- 配置导航图以支持底部导航的多个顶级目的地

### 2. 密码生成器页面
- 将现有的 `GeneratePasswordDialog` 转换为独立的 `GeneratorFragment`
- 提供更丰富的密码生成选项和预览功能
- 支持生成历史记录和预设配置

### 3. 界面现代化改造
采用 Material Design 3 设计元素：
- **动态配色**：实现 Material You 风格的动态取色（Android 12+）
- **圆角设计**：卡片、按钮、对话框采用更大的圆角半径（16-24dp）
- **改进的阴影**：使用更柔和的阴影系统
- **优化间距**：增加组件间距以提升可读性
- **改进的图标**：使用填充式图标（Filled Icons）替代轮廓图标
- **更好的排版**：使用 Material 3 的字体排版系统

### 4. 用户体验优化
- **移除 FAB**：密码库页面右下角的添加按钮可以移除，通过顶部工具栏或列表头部提供添加入口
- **统一动画**：底部导航切换时应用流畅的过渡动画
- **状态保持**：切换底部导航时保持各页面的滚动位置和状态

## Impact Analysis

### 用户可见变化
- **新交互方式**：用户通过底部导航在主要功能间切换
- **视觉升级**：整个应用的视觉风格更加现代、统一
- **独立生成器页面**：密码生成器从对话框变为独立页面，功能更完整

### 兼容性
- **最小 SDK 保持不变**：仍为 API 29（Android 10）
- **Material 3 降级**：Android 10-11 使用固定的 Material 3 主题，Android 12+ 使用动态配色
- **导航变化**：需要更新现有从密码列表到设置的导航路径

### 开发工作量
- **新增资源**：需要创建新的图标、颜色、样式资源
- **导航重构**：重构导航图以支持多个顶级目的地
- **Fragment 新建**：创建 `GeneratorFragment`
- **布局调整**：所有页面的布局需要适配新的设计规范

## Alternatives Considered

### 选项 1：保持现有导航，仅美化界面
- **优点**：改动最小，风险低
- **缺点**：无法解决导航不便的问题，密码生成器仍然难以发现

### 选项 2：使用抽屉导航（Navigation Drawer）
- **优点**：可以容纳更多导航项
- **缺点**：对于只有三个主要功能的应用过于复杂，操作步骤更多

### 选项 3：使用标签页（TabLayout）+ ViewPager
- **优点**：可以水平滑动切换
- **缺点**：不适合作为顶级导航，手势与列表滑动冲突

### 选项 4：底部导航（本提案选择）
- **优点**：
  - 符合移动应用的常见导航模式
  - 三个功能一目了然
  - 拇指操作友好
- **缺点**：需要重构现有导航结构

## Dependencies
- 无外部依赖
- 依赖现有的 `PasswordListFragment` 和 `SettingsFragment`
- 需要创建新的 `GeneratorFragment`

## Success Criteria
1. 底部导航正常工作，用户可以在三个功能间流畅切换
2. 密码生成器作为独立页面功能完整可用
3. 界面采用 Material Design 3 风格，在 Android 10-14 上表现一致
4. 现有功能不受影响，所有测试通过
5. 用户可以快速找到并使用核心功能

## Open Items
1. **FAB 去留**：是否保留密码列表页面的悬浮添加按钮？
   - 建议：移除 FAB，改用列表头部的"添加"按钮
2. **密码生成器功能范围**：独立的生成器页面需要包含哪些额外功能？
   - 建议：添加生成历史、常用配置预设
3. **主题配色**：是否支持用户自定义主题颜色？
   - 建议：先实现单一配色，后续可扩展

## References
- [Material Design 3 Guidelines](https://m3.material.io/)
- [Android Bottom Navigation](https://developer.android.com/guide/navigation/navigation-ui#bottom_navigation)
- [Material You](https://material.io/blog/material-you)（动态配色）
